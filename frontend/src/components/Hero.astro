---
const { src = "/images/hero.jpg", alt = "Hero" } = Astro.props;
const hasContent = Astro.slots.has("default");
const navLinks = [
  { href: "/styling", label: "styling" },
  { href: "/proyectos", label: "proyectos" },
  { href: "/muestras", label: "muestras" },
  { href: "/contacto", label: "contacto" },
  { href: "/shop", label: "shop" },
];
---

<section id="top" class="relative h-screen w-full overflow-hidden">
  <!-- VIDEO DE FONDO -->
  <video
    id="hero-video"
    class="absolute inset-0 w-full h-full object-cover"
    autoplay
    muted
    loop
    playsinline
    preload="metadata"
    poster="/images/poster.webp"
  >
    <!-- Mobile -->
    <source
      src="/videos/video_mobile.webm"
      media="(max-width: 768px)"
      type="video/webm"
    />

    <!-- Desktop -->
    <source
      src="/videos/video_desktop.webm"
      media="(min-width: 769px)"
      type="video/webm"
    />
  </video>

  <script>
    const video = document.getElementById('hero-video') as HTMLVideoElement;
    if (video && window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
      video.pause();
      video.removeAttribute('autoplay');
    }
  </script>

  <!-- OVERLAY SUAVE (si querÃ©s oscurecer un poquito) -->
  <div class="absolute inset-0 bg-black/10 pointer-events-none"></div>
</section>
